<!DOCTYPE html>
<html lang="fr" class="no-js">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Ansible - D√©couverte et premiers pas.</title>

        <!-- Favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="/rix/pr/120/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/rix/pr/120/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/rix/pr/120/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/rix/pr/120/favicon-16x16.png">
        <link rel="manifest" href="/rix/pr/120/site.webmanifest">
                <link rel="shortcut icon" href="/rix/pr/120/favicon.ico">
        <meta name="msapplication-TileColor" content="#ff4344">
        <meta name="msapplication-config" content="/rix/pr/120/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">

                        <meta name="description" content="Dans ce premier cours √† destination des √©tudiants et/ou n√©ophytes, nous verrons ce qu&#039;est Ansible ainsi qu&#039;un exemple tr√®s simple de son utilisation." />
            <link rel="canonical" href="https://rix-fr.github.io/rix/pr/120/blog/cours/ansible/ansible-premiers-pas" />

            <!-- Open Graph / Facebook -->
                                        <meta property="og:type" content="website">
                        <meta property="og:title" content="Ansible - D√©couverte et premiers pas." />
            <meta property="og:locale" content="fr" />
            <meta property="og:description" content="Dans ce premier cours √† destination des √©tudiants et/ou n√©ophytes, nous verrons ce qu&#039;est Ansible ainsi qu&#039;un exemple tr√®s simple de son utilisation." />
            <meta property="og:url" content="https://rix-fr.github.io/rix/pr/120/blog/cours/ansible/ansible-premiers-pas" />
            <meta property="og:site_name" content="rix" />

                                        <meta property="og:image" content="https://rix-fr.github.io/rix/pr/120/resized/content/images/blog/thumbnails/ansible-premier-pas.jpg/85a273249dc4436723377363ef772dfc.jpg">
                                                    <meta property="og:image:alt" content="Rix - Expertise et outillage DevOps">
            
            <!-- Twitter -->
            <meta property="twitter:card" content="summary_large_image">
            <meta property="twitter:title" content="Ansible - D√©couverte et premiers pas.">
            <meta property="twitter:description" content="Dans ce premier cours √† destination des √©tudiants et/ou n√©ophytes, nous verrons ce qu&#039;est Ansible ainsi qu&#039;un exemple tr√®s simple de son utilisation.">
            <meta property="twitter:site" content="@rix_fr">
            <meta property="twitter:creator" content="@rix_fr">
                                        <meta property="twitter:image" content="https://rix-fr.github.io/rix/pr/120/resized/content/images/blog/thumbnails/ansible-premier-pas.jpg/7d3657af4af16eeed961f5a60591cb88.jpg">
                                <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "Ansible - D√©couverte et premiers pas.",
    "image": [
        "https://rix-fr.github.io/rix/pr/120/blog/cours/ansible/content/images/blog/thumbnails/ansible-premier-pas.jpg"
    ],
    "datePublished": "23 novembre 2023",
    "dateModified": "23 novembre 2023",
    "author": [
        {
            "@type": "Person",
            "name": "Guewen Faivre"
        }
    ],
    "keywords": [
        "Cours",
        "Ansible",
        "Automation"
    ]
}
    </script>
            

    <link rel="alternate" type="application/rss+xml" href="/rix/pr/120/blog/rss.xml" title="Le blog de l'√©quipe Rix" />

                            <meta name="robots" content="noindex" />
        
        <script>
                        document.querySelector('html').classList.remove('no-js');
        </script>

                    <link rel="stylesheet" href="/rix/pr/120/build/305.10d2ad32.css">
        
                    <script src="/rix/pr/120/build/runtime.1f38ba08.js" defer></script><script src="/rix/pr/120/build/70.671fda9c.js" defer></script><script src="/rix/pr/120/build/app.e999eb99.js" defer></script>

                        <script defer src="https://comments.rix.fr/comentario.js"></script>
        
    </head>
    <body class="page-article">
                    <header class="header">
                <div class="container">
                    <a href="/rix/pr/120/">
                        <img src="/rix/pr/120/build/images/logos/logo-horizontal.ae7b8485.svg" alt="" class="logo">
                        <span class="screen-reader">Retour √† l'accueil</span>
                    </a>

                                            <nav class="nav">
    <ul>
                                    <li class="nav__item ">
                    <a href="/rix/pr/120/">
                        <span>Accueil</span>
                    </a>
                </li>
                                                <li class="nav__item ">
                    <a href="/rix/pr/120/services">
                        <span>Nos services</span>
                    </a>
                </li>
                                                <li class="nav__item ">
                    <a href="/rix/pr/120/etudes-de-cas">
                        <span>Cas clients</span>
                    </a>
                </li>
                                                <li class="nav__item ">
                    <a href="/rix/pr/120/a-propos">
                        <span>√Ä propos</span>
                    </a>
                </li>
                                                <li class="nav__item ">
                    <a href="/rix/pr/120/blog">
                        <span>Blog</span>
                    </a>
                </li>
                            <li class="nav__item nav__item--icon">
            <a href="/rix/pr/120/contact">
                <svg viewBox="0 0 20 17" fill="none" class="contact-icon">
    <path d="M18.7692 12.4368H16.343V15L12.3512 12.4368H1V1H18.7692V12.4368Z" stroke="#99b7d1" stroke-width="2" fill="none"/>
    <g>
        <circle cx="5.84621" cy="6.92311" r="1.07692" fill="#eb5050"/>
        <circle cx="10.1538" cy="6.92311" r="1.07692" fill="#eb5050"/>
        <circle cx="14.4614" cy="6.92311" r="1.07692" fill="#eb5050"/>
    </g>
</svg>

                <span>Contactez-nous</span>
            </a>
        </li>
    </ul>
</nav>

                    
                                            <nav class="nav-mobile">
    <div class="nav-mobile__header">
        <a href="/rix/pr/120/">
            <img src="/rix/pr/120/build/images/logos/logo-horizontal-white.901392b9.svg" alt="" class="logo">
        </a>
        <button class="nav-toggle nav-toggle--close">
            <i class="icon icon--close" aria-hidden="true"></i>
            <span class="screen-reader">Fermer le menu</span>
        </button>
    </div>
    <ul>
                                    <li class="nav-mobile__item  ">
                    <a href="/rix/pr/120/">
                        Accueil
                    </a>
                </li>
                                                <li class="nav-mobile__item  ">
                    <a href="/rix/pr/120/services">
                        Nos services
                    </a>
                </li>
                                                <li class="nav-mobile__item  ">
                    <a href="/rix/pr/120/etudes-de-cas">
                        Cas clients
                    </a>
                </li>
                                                <li class="nav-mobile__item  ">
                    <a href="/rix/pr/120/a-propos">
                        √Ä propos
                    </a>
                </li>
                                                <li class="nav-mobile__item  ">
                    <a href="/rix/pr/120/blog">
                        Blog
                    </a>
                </li>
                            <li class="nav-mobile__item nav-mobile__item--icon">
            <a href="/rix/pr/120/contact">
                <svg viewBox="0 0 20 17" fill="none" class="contact-icon">
    <path d="M18.7692 12.4368H16.343V15L12.3512 12.4368H1V1H18.7692V12.4368Z" stroke="#99b7d1" stroke-width="2" fill="none"/>
    <g>
        <circle cx="5.84621" cy="6.92311" r="1.07692" fill="#eb5050"/>
        <circle cx="10.1538" cy="6.92311" r="1.07692" fill="#eb5050"/>
        <circle cx="14.4614" cy="6.92311" r="1.07692" fill="#eb5050"/>
    </g>
</svg>

                Contactez-nous
            </a>
        </li>
    </ul>
</nav>
<button class="nav-toggle nav-toggle--open">
    <i class="icon icon--hamburger" aria-hidden="true"></i>
    <span class="screen-reader">Ouvrir le menu</span>
</button>

                                    </div>
            </header>
                <main>
                <div class="banner banner--blog">
        <div class="container">
            <h1>
                <a href="/rix/pr/120/blog">Blog</a>
                <strong>/</strong>
            </h1>
        </div>
    </div>

    <div class="beveled-wrapper">
        <div class="beveled-wrapper__gradient">
            <div class="container shape"><!-- üê∫ shape --></div>
            <div class="container content">
                <ul class="tags-list">
                                            <li class="tags-list__item">
                            #Cours
                        </li>
                                            <li class="tags-list__item">
                            #Ansible
                        </li>
                                            <li class="tags-list__item">
                            #Automation
                        </li>
                                    </ul>
                <h2 class="h2--large">Ansible - D√©couverte et premiers pas.</h2>
                <p>Dans ce premier cours √† destination des √©tudiants et/ou n√©ophytes, nous verrons ce qu&#039;est Ansible ainsi qu&#039;un exemple tr√®s simple de son utilisation.</p>
                <div class="article-overview">
                                        <ol class="table-of-contents">
                                                            <li class="table-of-contents__item">
                                    <a href="#preambule">Pr√©ambule</a>
                                                                    </li>
                                                            <li class="table-of-contents__item">
                                    <a href="#prerequis">Pr√©requis</a>
                                                                    </li>
                                                            <li class="table-of-contents__item">
                                    <a href="#mise-en-route">Mise en route</a>
                                                                    </li>
                                                            <li class="table-of-contents__item">
                                    <a href="#infrastructure">Infrastructure</a>
                                                                    </li>
                                                            <li class="table-of-contents__item">
                                    <a href="#environnement-local">Environnement local</a>
                                                                            <ol class="table-of-contents__sub-level">
                                                                                            <li>
                                                    <a href="#se-connecter-avec-le-client-ssh">Se connecter avec le client SSH</a>
                                                </li>
                                                                                            <li>
                                                    <a href="#configuration-du-client-ssh">Configuration du client SSH</a>
                                                </li>
                                                                                            <li>
                                                    <a href="#utilisation-de-l-agent-ssh">Utilisation de l&#039;agent SSH</a>
                                                </li>
                                                                                            <li>
                                                    <a href="#communication-ansible-serveurs-distants">Communication Ansible &lt;&gt; serveurs distants</a>
                                                </li>
                                                                                    </ol>
                                                                    </li>
                                                            <li class="table-of-contents__item">
                                    <a href="#aller-plus-loin-avec-les-sources">Aller plus loin avec les sources:</a>
                                                                    </li>
                                                    </ol>
                                        <div class="article-info">
                                                                            <div class="author ">
                                <div class="author__image">
                                                                            <img     src="/rix/pr/120/resized/content/images/member/avatars/gfaivre.jpg/b9e2ad5ccb2390253e2c23ccbfb41dc7.jpg"
    srcset="
        /rix/pr/120/resized/content/images/member/avatars/gfaivre.jpg/b9e2ad5ccb2390253e2c23ccbfb41dc7.jpg 1x,
        /rix/pr/120/resized/content/images/member/avatars/gfaivre.jpg/d2d8af0b210c37c677635983f1c02d6d.jpg 2x
    "
 />
                                                                    </div>
                                <span class="author__info">
                                    √âcrit par
                                                                            <strong>Guewen Faivre</strong>
                                                                    </span>
                            </div>
                                                <div class="article-info__date">
                            <span>Publication <strong>23 novembre 2023</strong></span>
                                                                                </div>
                    </div>
                </div>
                <main>
                                                            <body><h2 id="preambule" class="anchor-title"><a href="#preambule">Pr√©ambule</a></h2>
<p>Ce cours est utilis√© dans le cadre de TP au sein de l'IUT Lyon 1. Il est notamment dispens√© √† des √©tudiants peu ou pas familiers avec les strat√©gies d'automatisation et de d√©ploiement des infrastructures.
Bien que tr√®s ax√© d√©butants il peut √©galement repr√©senter une possibilit√© de monter ¬´ rapidement ¬ª pour certaines √©quipes sur les principes fondamentaux d'Ansible afin de disposer du bagage minimal n√©cessaire √† son utilisation.</p>
<p>Il s'agit bien √©videmment de supports √† vocation p√©dagogique qui <strong>ne sont pas toujours transposables</strong> √† une activit√© professionnelle.</p>
<h2 id="prerequis" class="anchor-title"><a href="#prerequis">Pr√©requis</a></h2>
<p>Afin d'aborder les diff√©rents concepts du cours il est recommand√© de disposer:</p>
<ul>
<li>D'au moins deux machines virtuelles accessibles via <strong>SSH</strong> (id√©alement 4);</li>
<li><strong><a href="https://docs.docker.com/engine/install/" target="_blank">Docker et Docker compose</a></strong> install√©s sur la machine de travail (Docker Desktop pour <a href="https://docs.docker.com/desktop/install/windows-install/" target="_blank">Windows</a> et <a href="https://docs.docker.com/desktop/install/mac-install/" target="_blank">OSX</a>);</li>
<li>D'une installation d'Ansible r√©cente (2.15.5), s'il est possible de l'installer localement je recommanderais plut√¥t d'utiliser le <a href="/blog/cours/ansible/ansible-environnement-cle-en-main"><strong>Lazy Ansible</strong></a> du projet <a href="https://github.com/manala/" target="_blank"><strong>Manala</strong></a>..</li>
<li>D'une paire de cl√©s SSH que vous aurez pris soin de g√©n√©rer (voir <a href="/blog/cours/cle-ssh-principes-de-base">ici</a>) si vous n'en disposez pas d√©j√†.</li>
<li>D'un r√©pertoire de travail, de mon c√¥t√© √ßa sera <code class="code-inline" id="2f56b2c4e169e525b08cdbdbfc1a4543">workspace/ansible</code> (tr√®s original oui), son nom importe peu, l'id√©e est que vous sachiez vous y retrouver;</li>
</ul>
<p>Pour ceux qui utilisent Windows, il est possible d'<a href="/blog/cours/docker-avec-windows-et-wsl">utiliser WSL pour faire fonctionner les conteneurs Docker</a>, une machine virtuelle Linux fonctionne encore mieux, libre √† vous d'utiliser l'un ou l'autre.</p>
<h2 id="mise-en-route" class="anchor-title"><a href="#mise-en-route">Mise en route</a></h2>
<p>Premi√®re √©tape avant de pouvoir rentrer dans le vif du sujet, nous aurons besoin de mettre en place un environnement de travail d√©di√© √† nos travaux.</p>
<h2 id="infrastructure" class="anchor-title"><a href="#infrastructure">Infrastructure</a></h2>
<p>Pour pouvoir configurer nos serveurs, il nous faudra... des serveurs, ou plut√¥t des machines virtuelles pour leur facilit√© √† √™tre arr√™t√©es, d√©truites et reconstruites.
N'importe quel fournisseur de cloud public peut faire l'affaire, utilisez celui avec lequel vous avez le plus d'affinit√©s.</p>
<p>Dans le cadre de l'IUT nous utiliserons OpenStack, solution OpenSource qui a fait ses preuves et qui plus est disponible dans l'enceinte de l'universit√©, c'est √©galement la solution technique utilis√©e par le <a href="https://www.ovhcloud.com/fr/public-cloud/" target="_blank">Public Cloud d'OVHCloud</a>.
C'est donc sur cette base que je pr√©senterai les √©tapes suivantes, au demeurant, parfaitement transposables chez d'autres fournisseurs.</p>
<p>Nous travaillerons avec deux environnements distincts, ¬´ <em>Staging</em> ¬ª et ¬´ <em>Production</em> ¬ª qui embarqueront chacune une instance applicative (qui portera donc le code d'une application) et une instance destin√©e aux donn√©es (et donc charg√©e de faire fonctionner notre serveur de base de donn√©es).
Si vous √™tes limit√© en terme de cr√©ation d'instances, il est envisageable de n'avoir qu'une instance par environnement, celle-ci embarquant <strong>l'applicatif et les donn√©es</strong>.</p>
<h2 id="environnement-local" class="anchor-title"><a href="#environnement-local">Environnement local</a></h2>
<p>Les √©tapes suivantes seront donc √† ex√©cuter √† partir de votre machine.</p>
<h3 id="se-connecter-avec-le-client-ssh" class="anchor-title"><a href="#se-connecter-avec-le-client-ssh">Se connecter avec le client SSH</a></h3>
<p>Consid√©rant que vous remplissez les pr√©requis et que vous avez cr√©√© vos instances distantes nous allons pour commencer initier une ¬´ simple ¬ª connexion SSH vers notre instance.</p>
<pre class="code-multiline"><code id="8f5d822d895a75c50ce49e32467e9de0">ssh debian@XXX.XXX.XXX.XXX</code></pre>
<p>Si vous rencontrez des soucis .. forbidden (exemple) r√©-essayez en ajoutant explicitement le chemin vers la cl√©.</p>
<pre class="code-multiline"><code id="665e15826841b865ca528876d7f9894d">ssh -i ~/.ssh/ed25519 debian@XXX.XXX.XXX.XXX</code></pre>
<div class="admonition info">
<p class="admonition-title">Utilisateur sous Windows</p>
<p>
    Pour rappel aux utilisateurs de Windows vous trouverez ce r√©pertoire <code class="code-inline" id="cb8c8e9d73e8e1088ed383f5cbcc67d7">.ssh</code> dans <code class="code-inline" id="80b9a8b6fcc765fbabc31347355e782b">C:\Users\MonNomUtilisateur\</code>
</p>
</div>
<h3 id="configuration-du-client-ssh" class="anchor-title"><a href="#configuration-du-client-ssh">Configuration du client SSH</a></h3>
<p>Afin d'√©viter d'avoir √† sp√©cifier le chemin vers la cl√© √† chaque connexion et afin d'affiner la configuration de notre client nous pouvons √©galement d√©finir un fichier <code class="code-inline" id="4cc0ecc8128c171b864a0cdda4b4cdea">~/.ssh/config</code> contenant les directives suivantes:</p>
<pre class="code-multiline"><code id="de020e8878496ef04ac49671f6dacc38">Host 192.168.140.*
  Port 22
  User debian
  IdentityFile ~/.ssh/keyfile
  IdentitiesOnly yes
  ForwardAgent yes</code></pre>
<p>Celles-ci sont relativement compr√©hensibles, pr√©cisons tout de m√™me pour les deux derni√®res:</p>
<ul>
<li><code class="code-inline" id="f382dcceabb5224c5f6cda7f40c496a6">IdentitiesOnly</code> indique √† SSH de n'envoyer au serveur <strong>QUE</strong> la cl√© d√©finie √† la directive <code class="code-inline" id="9ff804472728077c3da1cd67b27fb91d">IdentityFile</code> quand bien m√™me vous disposez d'autres cl√©s dans votre r√©pertoire <code class="code-inline" id="6ee1504095caefc322f5ca38b8074fd4">~/.ssh</code></li>
<li><code class="code-inline" id="787f1d575c24fc4fca7057057499b6ac">ForwardAgent</code> permet d'activer le transfert d'identit√© vers l'agent SSH du serveur</li>
</ul>
<p>Cette configuration vous permet d'indiquer certaines directives de mani√®re automatique pour un ou plusieurs h√¥tes distants, pour en savoir plus concernant les fichiers de configuration SSH vous pouvez aller jeter un oeil <a href="/blog/cours/utiliser-la-configuration-ssh-client">ici</a></p>
<h3 id="utilisation-de-l-agent-ssh" class="anchor-title"><a href="#utilisation-de-l-agent-ssh">Utilisation de l'agent SSH</a></h3>
<p>La prochaine √©tape est l'utilisation d'un service sp√©cifique √† SSH, <strong>l'agent</strong>.</p>
<p>L'agent SSH sur la plupart des syst√®mes UNIX est lanc√© au d√©marrage de votre machine, toutefois si √ßa n'est pas le cas, il est possible de le d√©marrer avec la commande <code class="code-inline" id="7affca7621d83510206ba8b1a13f96f9">eval 'ssh-agent'</code>.
Son r√¥le est de permettre de stocker de mani√®re s√©curis√©e votre/vos cl√©s priv√©es SSH (rappelez-vous c'est la partie que l'on ne partage pas !) mais √©galement d'assurer le transfert de cette cl√© priv√©e en toute s√©curit√© vers les serveurs distants auxquels vous tenterez de vous connecter.</p>
<h4 id="ajouter-une-cle-dans-l-agent" class="anchor-title"><a href="#ajouter-une-cle-dans-l-agent">Ajouter une cl√© dans l'agent</a></h4>
<p>L'ajout d'une cl√© dans un agent est trivial et se fait √† l'aide de la commande <code class="code-inline" id="d649ca672e246a3c2d37410e02f6faee">ssh-add ~/.ssh/my_private_key</code>. </p>
<p>Si vous avez prot√©g√© votre cl√© avec une phrase de passe elle vous sera demand√©e par l'agent au moment de son ajout.
Afin de v√©rifier que votre cl√© a bien √©t√© ajout√©e √† votre agent vous pouvez lister les cl√©s contenues √† l'int√©rieur avec la commande <code class="code-inline" id="ee9779fab5acd31dfa8f7ffddaaea38e">ssh-add -l</code> qui devrait vous donner une sortie √©quivalente √† la suivante:</p>
<pre class="code-multiline"><code id="7940481d44d7c99ec2e0012b063424cd">rix@debian:~$ ssh-add -l 
4096 SHA256:knyjFlzIWukj77PBs0V+mO4eKD9mnSITOkYfYvgvZcQ /home/rix/.ssh/gfaivre-iut (RSA)</code></pre>
<p>Cette √©tape, compl√©t√©e par la directive <code class="code-inline" id="787f1d575c24fc4fca7057057499b6ac">ForwardAgent</code> contenue dans notre fichier de configuration SSH (pour rappel <code class="code-inline" id="4cc0ecc8128c171b864a0cdda4b4cdea">~/.ssh/config</code>) va nous permettre lorsque nous nous connectons √† un serveur distant de transf√©rer notre cl√© priv√©e vers l'agent de ce m√™me serveur.</p>
<p>De cette mani√®re notre cl√© priv√©e sera m√™me disponible sur le serveur auquel nous nous connectons, nous aborderons l'utilit√© de cette configuration plus tard.</p>
<h3 id="communication-ansible-serveurs-distants" class="anchor-title"><a href="#communication-ansible-serveurs-distants">Communication Ansible &lt;&gt; serveurs distants</a></h3>
<p>Notre environnement √©tant ¬´ pr√™t ¬ª testons √† pr√©sent la bonne communication avec nos serveurs distants en utilisant le module <code class="code-inline" id="df911f0151f9ef021d410b4be5060972">ping</code> d'Ansible.</p>
<p>√Ä partir de ce moment et sauf instruction contraire nous partirons du principe que nous √©voluons √† l'int√©rieur de notre r√©pertoire de travail (<code class="code-inline" id="2f56b2c4e169e525b08cdbdbfc1a4543">workspace/ansible</code> donc ;)) pour saisir nos commandes et cr√©er notre arborescence de projet.</p>
<div class="admonition info">
<p class="admonition-title">Les modules Ansible</p>
<p>
    Dans la terminologie Ansible, les ¬´ modules ¬ª sont des morceaux de code pouvant √™tre utilis√©s soit directement dans la ligne de commande (avec l'option <code class="code-inline" id="67dd1c0d4e68c367b980f8723c781cb1">-m</code>, soit dans une section <code class="code-inline" id="478f3a4c51824ad23cb50c1c60670c0f">task</code> d'un ¬´ playbook ¬ª). Ils peuvent prendre en charge des arguments avec une syntaxe classique <code class="code-inline" id="ef176a6c424f954fa42d4cde03949897">key=value</code>.
</p>
</div>
<p>Pour pouvoir effectuer notre premier test nous allons donc cr√©er un fichier que nous appellerons <code class="code-inline" id="d4bbb8582b29b42818a341b53996b81b">hosts.yml</code> contenant (√† adapter en fonction du r√©seau sur lequel sont d√©ploy√©es vos machines virtuelles): </p>
<pre class="code-multiline"><code id="5f8c1800313c63319cb0456fe01f7a50">all:
  hosts:
    ansible-vm-01:
      ansible_host: 192.168.140.30
      ansible_user: debian</code></pre>
<p>Attention √† l'indentation et faites attention de bien utiliser des espaces pour celle-ci.</p>
<p>Pour terminer nous lan√ßons notre conteneur docker ¬´ lazy ¬ª avec un <code class="code-inline" id="6e3c3438c618a6a853510bb4ffe64803">make sh</code> et y ex√©cutons la commande <code class="code-inline" id="214b1741759d3b0b9a89333d2ec3e1d3">ansible -i hosts.yml all -m ping</code>, qui utilise le module <strong>ping</strong> d'ansible pour v√©rifier que l'on arrive bien √† se connecter √† l'instance distante.</p>
<p>Ce qui nous donne: </p>
<figure>
    <img src="/rix/pr/120/resized/content/images/blog/2023/ansible/ansible-part-1/ansible-ping.gif/c9b728f3e46b8cbce28924647d01323f.gif" id="c9b728f3e46b8cbce28924647d01323f-gif">
    <figcaption>
      <span class="figure__legend">Utilisation du module ping avec Ansible.</span>
    </figcaption>
</figure>
<div class="admonition danger">
<p class="admonition-title">Le module ping</p>
<p>
    Bien que son nom puisse porter √† confusion, il s'agit l√† d'un module propre √† Ansible et qui n'a rien √† voir avec la commande syst√®me du m√™me nom. Pour rappel, la commande syst√®me envoie un paquet ICMP (ECHO_REQUEST) √† une machine distante et attend en retour un paquet du m√™me type (ECHO_RESPONSE) indiquant le bon √©tat de la liaison r√©seau.
    Le module Ansible quant √† lui se connecte via SSH √† la machine distante et y v√©rifie la bonne configuration de Python.
</p>
</div>
<p>Cette derni√®re √©tape me permet d'introduire un concept que nous verrons dans la section suivante, celui des <em>inventaires</em> ! </p>
<h2 id="aller-plus-loin-avec-les-sources" class="anchor-title"><a href="#aller-plus-loin-avec-les-sources">Aller plus loin avec les sources:</a></h2>
<ul>
<li><a href="https://docs.ansible.com/ansible/latest/module_plugin_guide/modules_intro.html" target="_blank">https://docs.ansible.com/ansible/latest/module_plugin_guide/modules_intro.html</a></li>
<li><a href="https://www.ssh.com/academy/ssh/agent" target="_blank">https://www.ssh.com/academy/ssh/agent</a></li>
</ul></body>
                                                                                </main>
                <div class="article-footer" data-aos="fade-in">
                                                                        <div class="author">
                                <div class="author__image">
                                    <img     src="/rix/pr/120/resized/content/images/member/avatars/gfaivre.jpg/b9e2ad5ccb2390253e2c23ccbfb41dc7.jpg"
    srcset="
        /rix/pr/120/resized/content/images/member/avatars/gfaivre.jpg/b9e2ad5ccb2390253e2c23ccbfb41dc7.jpg 1x,
        /rix/pr/120/resized/content/images/member/avatars/gfaivre.jpg/d2d8af0b210c37c677635983f1c02d6d.jpg 2x
    "
 />
                                </div>
                                <span class="author__info">
                                    √âcrit par
                                    <strong>Guewen Faivre</strong>
                                </span>
                                <div class="author__social">
                                                                            <a href="https://twitter.com/guewen_faivre">
                                            <i class="icon icon--twitter" aria-hidden="true"></i>
                                            <span class="screen-reader">Compte twitter de Guewen Faivre</span>
                                        </a>
                                                                                                                <a href="https://github.com/gfaivre">
                                            <i class="icon icon--github" aria-hidden="true"></i>
                                            <span class="screen-reader">Compte github de Guewen Faivre</span>
                                        </a>
                                                                                                                <a href="http://www.elao.com">
                                            <i class="icon icon--website" aria-hidden="true"></i>
                                            <span class="screen-reader">Site personnel de Guewen Faivre</span>
                                        </a>
                                                                    </div>
                            </div>
                                                            </div>
                                    <div class="comment">
                                                    <div id="comentario"></div>
                                                                                                    <p>
                                Une typo ?
                                <a href="https://github.com/rix-fr/rix/edit/glossary/content/blog/cours/ansible/ansible-premiers-pas.md/" target="_blank">Modifier cet article sur Github</a>
                            </p>
                                            </div>
                            </div>
        </div>
    </div>
        </main>
                    <footer class="footer">
    <div class="container">
        <div class="footer__contact">
            <div class="catchphrase">
                <p class="h1">Le monde du DevOps vous semble obscur ?</p>
                <p>Contactez-nous, nous vous aiderons √† y <strong>voir plus clair</strong>.</p>
            </div>
            <div class="contact-tiles">
                <span class="contact-tiles__item">
                    <i class="icon icon--location" aria-hidden="true"></i>
                    <span>
                        <span class="title">Passez nous voir !</span>
                        <span>Nous sommes √† Lyon !</span>
                        <span>34 rue Jean Broquin</span>
                        <span>69006 Lyon, France</span>
                    </span>
                </span>
                <span class="contact-tiles__item">
                    <i class="icon icon--message" aria-hidden="true"></i>
                    <span>
                        <span class="title">Par t√©l√©phone ou par mail</span>
                        <a href="tel:33482537609">04 82 53 76 09</a>
                        <a href="mailto:contact@rix.fr">contact@rix.fr</a>
                    </span>
                </span>
            </div>
        </div>
        <div class="footer__brand">
            <img src="/rix/pr/120/build/images/logos/logo-horizontal-white.901392b9.svg" alt="Rix">
            <span>Expertise et outilllage DevOps</span>
        </div>
        <nav class="footer__links">
            <div class="pages">
                <ul>
                                                                        <li>
                                <a href="/rix/pr/120/etudes-de-cas">Cas clients</a>
                            </li>
                                                                                                <li>
                                <a href="/rix/pr/120/a-propos">√Ä propos</a>
                            </li>
                                                                                                <li>
                                <a href="/rix/pr/120/glossaire/">Glossaire</a>
                            </li>
                                                                                                <li>
                                <a href="/rix/pr/120/contact">Contact</a>
                            </li>
                                                            </ul>
            </div>
            <div class="services">
                <a href="/rix/pr/120/services">Nos services</a>
                <div>
                                            <ul>
                                                            <li>
                                    <a href="/rix/pr/120/services#accompagnement_outillage">Accompagnement et outillage DevOps</a>
                                </li>
                                                            <li>
                                    <a href="/rix/pr/120/services#experts_kubernetes">Expertise Kubernetes</a>
                                </li>
                                                            <li>
                                    <a href="/rix/pr/120/services#performances_diagnostique">Performances et diagnostique</a>
                                </li>
                                                    </ul>
                                            <ul>
                                                            <li>
                                    <a href="/rix/pr/120/services#conception_infrastructures">Conception sur-mesure d&#039;infrastructures</a>
                                </li>
                                                            <li>
                                    <a href="/rix/pr/120/services#pilotage_infrastructures">Pilotage d&#039;infrastructures</a>
                                </li>
                                                            <li>
                                    <a href="/rix/pr/120/services#environment">Environnement de d√©veloppement</a>
                                </li>
                                                    </ul>
                                    </div>
            </div>
        </nav>
        <div class="footer__legals">
            <span>¬©2024 - Rix - Tous droits r√©serv√©s</span>
            -
            <a href="/rix/pr/120/legal">Mentions l√©gales</a>
            -
            <a href="/rix/pr/120/confidentialite">Donn√©es personnelles</a>
        </div>
    </div>
</footer>



            </body>
</html>
