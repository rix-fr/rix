{% import "macros.html.twig" as macros %}
{% extends 'base.html.twig' %}

{% block meta_title -%}
    {{ caseStudy.metaTitle|default(caseStudy.title) }} | {{ parent() }}
{%- endblock %}

{% block meta_description -%}
    {{ caseStudy.metaDescription|default(caseStudy.description)|default(parent()) }}
{%- endblock %}

{# {% block og_image asset(caseStudy.images|first|glide_image_preset('opengraph_image')) %}
{% block twitter_image absolute_url(asset(caseStudy.images|first|glide_image_preset('twitter_card'))) %} #}
{% block body_class 'page-case-study' %}

{% block content %}

    <div class="banner">
        <div class="container">
            <h1>{{ caseStudy.title }}</h1>
        </div>
    </div>

    <div class="beveled-wrapper">
        <div class="beveled-wrapper__gradient">
            <div class="container shape"><!-- üê∫ shape --></div>
            <div class="container content">
                <div class="case-study__header">
                    <h2>{{ caseStudy.title }}</h2>
                    <p>Musique & Music est un √©diteur sp√©cialis√© dans la musique de production d√©di√©e aux professionnels. L'application web permet aux monteurs vid√©os de chercher facilement des sons afin d'illustrer leurs productions.</p>
                    <span class="h3">Services</span>
                    <h3>Infrastructure<br>D√©veloppement</h3>
                </div>
                <div class="site-navigation">
                    <div class="site-navigation__image"></div>
                    <div class="site-navigation__content">
                        <a href="https://github.com/manala" class="button button-ghost button-ghost--light"><span>Voir le site</span></a>
                    </div>
                </div>
            </div>
            <div class="container content">
                <div class="technologies-list">
                    <div class="technologies-list__title">
                        <span class="h3">Les technos utilis√©es</span>
                    </div>
                    <ul>
                        <li class="technologies-list__item">
                            <a href="#">
                                <span class="sliding-button sliding-button--replaced">
                                    <img src="http://localhost:8080/build/images/services/ovh-cloud.c7447829.svg" alt="OVH Cloud">
                                </span>
                                <span>Ovh Cloud</span>
                            </a>
                        </li>
                        <li class="technologies-list__item">
                            <a href="#">
                                <span class="sliding-button sliding-button--replaced">
                                    <img src="http://localhost:8080/build/images/services/aws.4d8ec02e.svg" alt="AWS">
                                </span>
                                <span>Amazon Web Service</span>
                            </a>
                        </li>
                        <li class="technologies-list__item">
                            <a href="#">
                                <span class="sliding-button sliding-button--replaced">
                                    <img src="http://localhost:8080/build/images/services/scaleway.d2dc5698.svg" alt="Scaleway">
                                </span>
                                <span>Scaleway</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

   {#  <div class="page-project container">

        <div class="banner-case-study">

            <div class="banner-case-study__content">
                <div class="highlight">
                    <!--
                        Description br√®ve du projet ou du client
                        Recommand√© : 50 √† 150 caract√®res
                    -->
                    <p>{{ caseStudy.description }}</p>
                    <i class="icon icon--semicolon" aria-hidden="true"></i>
                </div>

                <!--
                    3 images de preview maximum dont :
                        - 1 image principale obligatoire
                            - dans <div class="preview__main">
                            - dimensions 630x380px
                        - 2 images facultatives (mais pr√©f√©rables !)
                            - dans <div class="preview__list">
                            - dimensions 240x160px
                -->
                <div class="preview">
                    <div class="preview__main">
                        <img {{ macros.imageSrcset(caseStudy.images|first, 'case_study_banner') }} />
                    </div>
                    <div class="preview__list">
                        <ul>
                            {% for image in caseStudy.images|slice(1, 2) %}
                                <li>
                                    <img src="{{ asset(image) }}">
                                </li>
                            {% endfor %}
                        </ul>
                        <!-- Si aucun lien vers le site possible, ajouter .hidden au bouton pour le cacher et ne pas casser le layout -->
                        <a href="{{ caseStudy.websiteUrl }}" class="btn btn--secondary btn--animated {{ caseStudy.websiteUrl is empty ? 'hidden' }}" target="_blank">
                            <span>
                                Voir le site
                            </span>
                        </a>
                    </div>
                </div>

            </div>
        </div>

        <div class="page-project__detail">
            <ul class="tile-list">
                <li>
                    <small>Client</small>
                    <p>{{ caseStudy.clients }}</p>
                </li>
                <li class="tile">
                    <small>Taille du projet</small>
                    <p>{{ caseStudy.size }}</p>
                </li>
            </ul>
            <ul class="tile-list">
                <li class="tile tile--medium">
                    <small>Services Rix</small>
                    {% for service in caseStudy.services %}
                        <p>{{ service }}</p>
                    {% endfor %}
                </li>
                <li class="tile tile--large">
                    <small>Technologies</small>
                    {% include "glossary/term_list.html.twig" with {
                        terms: caseStudy.terms,
                        list_class: 'technologies technologies--light'
                    } only %}
                </li>
            </ul>
        </div>

        <div class="page-project__content">
            {{ caseStudy.content|raw }}

            <h2 class="h2--dash">D'autres √©tudes de cas</h2>
            <ul class="article-list">
                {% with %}
                    {% for caseStudy in randomStudies %}
                    <li class="miniature miniature--large">
                        <a href="{{ path('case_study', { caseStudy: caseStudy.slug }) }}" class="miniature__image">
                            <span class="image" style="{{ macros.backgroundImageSrcset(caseStudy.images|first, 'case_study_thumbnail.lg') }}"></span>
                        </a>
                        <div class="miniature__content">
                            <span class="info">{{ caseStudy.clients }}</span>
                            <a href="{{ path('case_study', { caseStudy: caseStudy.slug }) }}" class="title">{{ caseStudy.title }}</a>
                            <p class="description">{{ caseStudy.description }}</p>
                            <a href="{{ path('case_study', { caseStudy: caseStudy.slug }) }}" class="btn btn--secondary btn--animated">
                                <span>
                                    Voir l'√©tude de cas
                                </span>
                            </a>
                        </div>
                    </li>
                    {% endfor %}
                {% endwith %}
            </ul>
        </div>
    </div> #}
{% endblock content %}
